#version 450

#extension GL_GOOGLE_include_directive : require
#include "./output.glsl"

#extension GL_EXT_scalar_block_layout : require

struct _12 {
  vec4 _m0;
  ivec4 _m1;
  vec4 _m2;
  ivec4 _m3;
  int _m4;
  int _m5;
  int _m6;
  int _m7;
  int _m8;
  uint _m9;
  float _m10;
};

vec2 _101;
vec2 _102;
vec3 _103;

layout(set = 0, binding = 96, scalar) readonly buffer _11_13 {
  _12 _m0[];
}
_13;

layout(set = 0, binding = 23, std140) uniform _16_17 {
  float _m0;
  float _m1;
  uint _m2;
  uint _m3;
  uint _m4;
  uint _m5;
  float _m6;
  float _m7;
  float _m8;
  float _m9;
  float _m10;
  float _m11;
  float _m12;
  float _m13;
  float _m14;
  float _m15;
  uint _m16;
  uint _m17;
  uint _m18;
  uint _m19;
}
_17;

layout(set = 1, binding = 22, std140) uniform _18_19 {
  vec4 _m0[2];
  vec4 _m1[2];
  vec4 _m2[2];
  vec4 _m3;
  vec4 _m4;
  vec4 _m5;
  float _m6;
  float _m7;
  float _m8;
  float _m9;
  float _m10;
  float _m11;
}
_19;

layout(set = 1, binding = 34) uniform sampler _10;
layout(set = 1, binding = 37) uniform sampler _20;
layout(set = 1, binding = 128) uniform texture2D _21;
layout(set = 0, binding = 131) uniform texture3D _22;

layout(location = 0) in vec4 _4;
layout(location = 1) in vec4 _5;
layout(location = 2) in vec4 _6;
layout(location = 3) in vec4 _7;
layout(location = 0) out vec4 _8;

void main() {
  vec4 _926;
  do {
    vec2 _113;
    _113.x = _6.x;
    _113.y = _6.y;
    vec4 _117 = textureLod(sampler2D(_21, _20), _113, 0.0);
    float _118 = _117.y;
    vec4 _120 = textureGather(sampler2D(_21, _20), _113, 1);
    vec4 _122 = textureGatherOffset(sampler2D(_21, _20), _113, ivec2(-1), 1);
    float _123 = _120.z;
    float _124 = _120.x;
    float _125 = _120.y;
    float _126 = _122.w;
    float _127 = _122.z;
    float _128 = _122.x;
    float _135 = max(max(_127, _128), max(_123, max(_124, _118)));
    float _138 = _135 - min(min(_127, _128), min(_123, min(_124, _118)));
    if (_138 < max(0.0, _135 * 0.063000001013278961181640625)) {
      _926 = _117;
      break;
    }
    vec4 _144 = textureLodOffset(sampler2D(_21, _20), _113, 0.0, ivec2(1, -1));
    float _145 = _144.y;
    vec4 _147 = textureLodOffset(sampler2D(_21, _20), _113, 0.0, ivec2(-1, 1));
    float _148 = _147.y;
    float _149 = _127 + _124;
    float _150 = _128 + _123;
    float _153 = (-2.0) * _118;
    float _156 = _145 + _125;
    float _162 = _126 + _148;
    bool _182 = (abs(((-2.0) * _128) + _162) + ((abs(_153 + _149) * 2.0) + abs(((-2.0) * _123) + _156))) >= (abs(((-2.0) * _124) + (_148 + _125)) + ((abs(_153 + _150) * 2.0) + abs(((-2.0) * _127) + (_126 + _145))));
    bool _185 = !_182;
    float _186 = _185 ? _128 : _127;
    float _187 = _185 ? _123 : _124;
    float _191;
    if (_182) {
      _191 = _6.w;
    } else {
      _191 = _6.z;
    }
    float _198 = abs(_186 - _118);
    float _199 = abs(_187 - _118);
    bool _200 = _198 >= _199;
    float _205;
    if (_200) {
      _205 = -_191;
    } else {
      _205 = _191;
    }
    float _208 = clamp(abs(((((_149 + _150) * 2.0) + (_162 + _156)) * 0.083333335816860198974609375) - _118) * (1.0 / _138), 0.0, 1.0);
    float _209 = _185 ? 0.0 : _6.z;
    float _211 = _182 ? 0.0 : _6.w;
    vec2 _217;
    if (_185) {
      vec2 _216 = _113;
      _216.x = _6.x + (_205 * 0.5);
      _217 = _216;
    } else {
      _217 = _113;
    }
    vec2 _224;
    if (_182) {
      vec2 _223 = _217;
      _223.y = _217.y + (_205 * 0.5);
      _224 = _223;
    } else {
      _224 = _217;
    }
    float _226 = _224.x - _209;
    vec2 _227;
    _227.x = _226;
    _227.y = _224.y - _211;
    float _231 = _224.x + _209;
    vec2 _232;
    _232.x = _231;
    _232.y = _224.y + _211;
    float _246 = max(_198, _199) * 0.25;
    float _247 = ((!_200) ? (_187 + _118) : (_186 + _118)) * 0.5;
    float _249 = (((-2.0) * _208) + 3.0) * (_208 * _208);
    bool _250 = (_118 - _247) < 0.0;
    float _251 = textureLod(sampler2D(_21, _20), _227, 0.0).y - _247;
    float _252 = textureLod(sampler2D(_21, _20), _232, 0.0).y - _247;
    bool _257 = !(abs(_251) >= _246);
    vec2 _262;
    if (_257) {
      vec2 _261 = _227;
      _261.x = _226 - _209;
      _262 = _261;
    } else {
      _262 = _227;
    }
    vec2 _268;
    if (_257) {
      vec2 _267 = _262;
      _267.y = _262.y - _211;
      _268 = _267;
    } else {
      _268 = _262;
    }
    bool _269 = !(abs(_252) >= _246);
    vec2 _275;
    if (_269) {
      vec2 _274 = _232;
      _274.x = _231 + _209;
      _275 = _274;
    } else {
      _275 = _232;
    }
    vec2 _281;
    if (_269) {
      vec2 _280 = _275;
      _280.y = _275.y + _211;
      _281 = _280;
    } else {
      _281 = _275;
    }
    vec2 _875;
    vec2 _876;
    float _877;
    float _878;
    if (_257 || _269) {
      float _289;
      if (_257) {
        _289 = textureLod(sampler2D(_21, _20), _268, 0.0).y;
      } else {
        _289 = _251;
      }
      float _295;
      if (_269) {
        _295 = textureLod(sampler2D(_21, _20), _281, 0.0).y;
      } else {
        _295 = _252;
      }
      float _299;
      if (_257) {
        _299 = _289 - _247;
      } else {
        _299 = _289;
      }
      float _303;
      if (_269) {
        _303 = _295 - _247;
      } else {
        _303 = _295;
      }
      bool _308 = !(abs(_299) >= _246);
      vec2 _314;
      if (_308) {
        vec2 _313 = _268;
        _313.x = _268.x - _209;
        _314 = _313;
      } else {
        _314 = _268;
      }
      vec2 _320;
      if (_308) {
        vec2 _319 = _314;
        _319.y = _314.y - _211;
        _320 = _319;
      } else {
        _320 = _314;
      }
      bool _321 = !(abs(_303) >= _246);
      vec2 _328;
      if (_321) {
        vec2 _327 = _281;
        _327.x = _281.x + _209;
        _328 = _327;
      } else {
        _328 = _281;
      }
      vec2 _334;
      if (_321) {
        vec2 _333 = _328;
        _333.y = _328.y + _211;
        _334 = _333;
      } else {
        _334 = _328;
      }
      vec2 _871;
      vec2 _872;
      float _873;
      float _874;
      if (_308 || _321) {
        float _342;
        if (_308) {
          _342 = textureLod(sampler2D(_21, _20), _320, 0.0).y;
        } else {
          _342 = _299;
        }
        float _348;
        if (_321) {
          _348 = textureLod(sampler2D(_21, _20), _334, 0.0).y;
        } else {
          _348 = _303;
        }
        float _352;
        if (_308) {
          _352 = _342 - _247;
        } else {
          _352 = _342;
        }
        float _356;
        if (_321) {
          _356 = _348 - _247;
        } else {
          _356 = _348;
        }
        bool _361 = !(abs(_352) >= _246);
        vec2 _367;
        if (_361) {
          vec2 _366 = _320;
          _366.x = _320.x - _209;
          _367 = _366;
        } else {
          _367 = _320;
        }
        vec2 _373;
        if (_361) {
          vec2 _372 = _367;
          _372.y = _367.y - _211;
          _373 = _372;
        } else {
          _373 = _367;
        }
        bool _374 = !(abs(_356) >= _246);
        vec2 _381;
        if (_374) {
          vec2 _380 = _334;
          _380.x = _334.x + _209;
          _381 = _380;
        } else {
          _381 = _334;
        }
        vec2 _387;
        if (_374) {
          vec2 _386 = _381;
          _386.y = _381.y + _211;
          _387 = _386;
        } else {
          _387 = _381;
        }
        vec2 _867;
        vec2 _868;
        float _869;
        float _870;
        if (_361 || _374) {
          float _395;
          if (_361) {
            _395 = textureLod(sampler2D(_21, _20), _373, 0.0).y;
          } else {
            _395 = _352;
          }
          float _401;
          if (_374) {
            _401 = textureLod(sampler2D(_21, _20), _387, 0.0).y;
          } else {
            _401 = _356;
          }
          float _405;
          if (_361) {
            _405 = _395 - _247;
          } else {
            _405 = _395;
          }
          float _409;
          if (_374) {
            _409 = _401 - _247;
          } else {
            _409 = _401;
          }
          bool _414 = !(abs(_405) >= _246);
          vec2 _420;
          if (_414) {
            vec2 _419 = _373;
            _419.x = _373.x - _209;
            _420 = _419;
          } else {
            _420 = _373;
          }
          vec2 _426;
          if (_414) {
            vec2 _425 = _420;
            _425.y = _420.y - _211;
            _426 = _425;
          } else {
            _426 = _420;
          }
          bool _427 = !(abs(_409) >= _246);
          vec2 _434;
          if (_427) {
            vec2 _433 = _387;
            _433.x = _387.x + _209;
            _434 = _433;
          } else {
            _434 = _387;
          }
          vec2 _440;
          if (_427) {
            vec2 _439 = _434;
            _439.y = _434.y + _211;
            _440 = _439;
          } else {
            _440 = _434;
          }
          vec2 _863;
          vec2 _864;
          float _865;
          float _866;
          if (_414 || _427) {
            float _448;
            if (_414) {
              _448 = textureLod(sampler2D(_21, _20), _426, 0.0).y;
            } else {
              _448 = _405;
            }
            float _454;
            if (_427) {
              _454 = textureLod(sampler2D(_21, _20), _440, 0.0).y;
            } else {
              _454 = _409;
            }
            float _458;
            if (_414) {
              _458 = _448 - _247;
            } else {
              _458 = _448;
            }
            float _462;
            if (_427) {
              _462 = _454 - _247;
            } else {
              _462 = _454;
            }
            bool _467 = !(abs(_458) >= _246);
            vec2 _474;
            if (_467) {
              vec2 _473 = _426;
              _473.x = _426.x - (_209 * 1.5);
              _474 = _473;
            } else {
              _474 = _426;
            }
            vec2 _481;
            if (_467) {
              vec2 _480 = _474;
              _480.y = _474.y - (_211 * 1.5);
              _481 = _480;
            } else {
              _481 = _474;
            }
            bool _482 = !(abs(_462) >= _246);
            vec2 _490;
            if (_482) {
              vec2 _489 = _440;
              _489.x = _440.x + (_209 * 1.5);
              _490 = _489;
            } else {
              _490 = _440;
            }
            vec2 _497;
            if (_482) {
              vec2 _496 = _490;
              _496.y = _490.y + (_211 * 1.5);
              _497 = _496;
            } else {
              _497 = _490;
            }
            vec2 _859;
            vec2 _860;
            float _861;
            float _862;
            if (_467 || _482) {
              float _505;
              if (_467) {
                _505 = textureLod(sampler2D(_21, _20), _481, 0.0).y;
              } else {
                _505 = _458;
              }
              float _511;
              if (_482) {
                _511 = textureLod(sampler2D(_21, _20), _497, 0.0).y;
              } else {
                _511 = _462;
              }
              float _515;
              if (_467) {
                _515 = _505 - _247;
              } else {
                _515 = _505;
              }
              float _519;
              if (_482) {
                _519 = _511 - _247;
              } else {
                _519 = _511;
              }
              bool _524 = !(abs(_515) >= _246);
              vec2 _531;
              if (_524) {
                vec2 _530 = _481;
                _530.x = _481.x - (_209 * 2.0);
                _531 = _530;
              } else {
                _531 = _481;
              }
              vec2 _538;
              if (_524) {
                vec2 _537 = _531;
                _537.y = _531.y - (_211 * 2.0);
                _538 = _537;
              } else {
                _538 = _531;
              }
              bool _539 = !(abs(_519) >= _246);
              vec2 _547;
              if (_539) {
                vec2 _546 = _497;
                _546.x = _497.x + (_209 * 2.0);
                _547 = _546;
              } else {
                _547 = _497;
              }
              vec2 _554;
              if (_539) {
                vec2 _553 = _547;
                _553.y = _547.y + (_211 * 2.0);
                _554 = _553;
              } else {
                _554 = _547;
              }
              vec2 _855;
              vec2 _856;
              float _857;
              float _858;
              if (_524 || _539) {
                float _562;
                if (_524) {
                  _562 = textureLod(sampler2D(_21, _20), _538, 0.0).y;
                } else {
                  _562 = _515;
                }
                float _568;
                if (_539) {
                  _568 = textureLod(sampler2D(_21, _20), _554, 0.0).y;
                } else {
                  _568 = _519;
                }
                float _572;
                if (_524) {
                  _572 = _562 - _247;
                } else {
                  _572 = _562;
                }
                float _576;
                if (_539) {
                  _576 = _568 - _247;
                } else {
                  _576 = _568;
                }
                bool _581 = !(abs(_572) >= _246);
                vec2 _588;
                if (_581) {
                  vec2 _587 = _538;
                  _587.x = _538.x - (_209 * 2.0);
                  _588 = _587;
                } else {
                  _588 = _538;
                }
                vec2 _595;
                if (_581) {
                  vec2 _594 = _588;
                  _594.y = _588.y - (_211 * 2.0);
                  _595 = _594;
                } else {
                  _595 = _588;
                }
                bool _596 = !(abs(_576) >= _246);
                vec2 _604;
                if (_596) {
                  vec2 _603 = _554;
                  _603.x = _554.x + (_209 * 2.0);
                  _604 = _603;
                } else {
                  _604 = _554;
                }
                vec2 _611;
                if (_596) {
                  vec2 _610 = _604;
                  _610.y = _604.y + (_211 * 2.0);
                  _611 = _610;
                } else {
                  _611 = _604;
                }
                vec2 _851;
                vec2 _852;
                float _853;
                float _854;
                if (_581 || _596) {
                  float _619;
                  if (_581) {
                    _619 = textureLod(sampler2D(_21, _20), _595, 0.0).y;
                  } else {
                    _619 = _572;
                  }
                  float _625;
                  if (_596) {
                    _625 = textureLod(sampler2D(_21, _20), _611, 0.0).y;
                  } else {
                    _625 = _576;
                  }
                  float _629;
                  if (_581) {
                    _629 = _619 - _247;
                  } else {
                    _629 = _619;
                  }
                  float _633;
                  if (_596) {
                    _633 = _625 - _247;
                  } else {
                    _633 = _625;
                  }
                  bool _638 = !(abs(_629) >= _246);
                  vec2 _645;
                  if (_638) {
                    vec2 _644 = _595;
                    _644.x = _595.x - (_209 * 2.0);
                    _645 = _644;
                  } else {
                    _645 = _595;
                  }
                  vec2 _652;
                  if (_638) {
                    vec2 _651 = _645;
                    _651.y = _645.y - (_211 * 2.0);
                    _652 = _651;
                  } else {
                    _652 = _645;
                  }
                  bool _653 = !(abs(_633) >= _246);
                  vec2 _661;
                  if (_653) {
                    vec2 _660 = _611;
                    _660.x = _611.x + (_209 * 2.0);
                    _661 = _660;
                  } else {
                    _661 = _611;
                  }
                  vec2 _668;
                  if (_653) {
                    vec2 _667 = _661;
                    _667.y = _661.y + (_211 * 2.0);
                    _668 = _667;
                  } else {
                    _668 = _661;
                  }
                  vec2 _847;
                  vec2 _848;
                  float _849;
                  float _850;
                  if (_638 || _653) {
                    float _676;
                    if (_638) {
                      _676 = textureLod(sampler2D(_21, _20), _652, 0.0).y;
                    } else {
                      _676 = _629;
                    }
                    float _682;
                    if (_653) {
                      _682 = textureLod(sampler2D(_21, _20), _668, 0.0).y;
                    } else {
                      _682 = _633;
                    }
                    float _686;
                    if (_638) {
                      _686 = _676 - _247;
                    } else {
                      _686 = _676;
                    }
                    float _690;
                    if (_653) {
                      _690 = _682 - _247;
                    } else {
                      _690 = _682;
                    }
                    bool _695 = !(abs(_686) >= _246);
                    vec2 _702;
                    if (_695) {
                      vec2 _701 = _652;
                      _701.x = _652.x - (_209 * 2.0);
                      _702 = _701;
                    } else {
                      _702 = _652;
                    }
                    vec2 _709;
                    if (_695) {
                      vec2 _708 = _702;
                      _708.y = _702.y - (_211 * 2.0);
                      _709 = _708;
                    } else {
                      _709 = _702;
                    }
                    bool _710 = !(abs(_690) >= _246);
                    vec2 _718;
                    if (_710) {
                      vec2 _717 = _668;
                      _717.x = _668.x + (_209 * 2.0);
                      _718 = _717;
                    } else {
                      _718 = _668;
                    }
                    vec2 _725;
                    if (_710) {
                      vec2 _724 = _718;
                      _724.y = _718.y + (_211 * 2.0);
                      _725 = _724;
                    } else {
                      _725 = _718;
                    }
                    vec2 _843;
                    vec2 _844;
                    float _845;
                    float _846;
                    if (_695 || _710) {
                      float _733;
                      if (_695) {
                        _733 = textureLod(sampler2D(_21, _20), _709, 0.0).y;
                      } else {
                        _733 = _686;
                      }
                      float _739;
                      if (_710) {
                        _739 = textureLod(sampler2D(_21, _20), _725, 0.0).y;
                      } else {
                        _739 = _690;
                      }
                      float _743;
                      if (_695) {
                        _743 = _733 - _247;
                      } else {
                        _743 = _733;
                      }
                      float _747;
                      if (_710) {
                        _747 = _739 - _247;
                      } else {
                        _747 = _739;
                      }
                      bool _752 = !(abs(_743) >= _246);
                      vec2 _759;
                      if (_752) {
                        vec2 _758 = _709;
                        _758.x = _709.x - (_209 * 4.0);
                        _759 = _758;
                      } else {
                        _759 = _709;
                      }
                      vec2 _766;
                      if (_752) {
                        vec2 _765 = _759;
                        _765.y = _759.y - (_211 * 4.0);
                        _766 = _765;
                      } else {
                        _766 = _759;
                      }
                      bool _767 = !(abs(_747) >= _246);
                      vec2 _775;
                      if (_767) {
                        vec2 _774 = _725;
                        _774.x = _725.x + (_209 * 4.0);
                        _775 = _774;
                      } else {
                        _775 = _725;
                      }
                      vec2 _782;
                      if (_767) {
                        vec2 _781 = _775;
                        _781.y = _775.y + (_211 * 4.0);
                        _782 = _781;
                      } else {
                        _782 = _775;
                      }
                      vec2 _839;
                      vec2 _840;
                      float _841;
                      float _842;
                      if (_752 || _767) {
                        float _790;
                        if (_752) {
                          _790 = textureLod(sampler2D(_21, _20), _766, 0.0).y;
                        } else {
                          _790 = _743;
                        }
                        float _796;
                        if (_767) {
                          _796 = textureLod(sampler2D(_21, _20), _782, 0.0).y;
                        } else {
                          _796 = _747;
                        }
                        float _800;
                        if (_752) {
                          _800 = _790 - _247;
                        } else {
                          _800 = _790;
                        }
                        float _804;
                        if (_767) {
                          _804 = _796 - _247;
                        } else {
                          _804 = _796;
                        }
                        bool _809 = !(abs(_800) >= _246);
                        vec2 _816;
                        if (_809) {
                          vec2 _815 = _766;
                          _815.x = _766.x - (_209 * 8.0);
                          _816 = _815;
                        } else {
                          _816 = _766;
                        }
                        vec2 _823;
                        if (_809) {
                          vec2 _822 = _816;
                          _822.y = _816.y - (_211 * 8.0);
                          _823 = _822;
                        } else {
                          _823 = _816;
                        }
                        bool _824 = !(abs(_804) >= _246);
                        vec2 _831;
                        if (_824) {
                          vec2 _830 = _782;
                          _830.x = _782.x + (_209 * 8.0);
                          _831 = _830;
                        } else {
                          _831 = _782;
                        }
                        vec2 _838;
                        if (_824) {
                          vec2 _837 = _831;
                          _837.y = _831.y + (_211 * 8.0);
                          _838 = _837;
                        } else {
                          _838 = _831;
                        }
                        _839 = _838;
                        _840 = _823;
                        _841 = _804;
                        _842 = _800;
                      } else {
                        _839 = _782;
                        _840 = _766;
                        _841 = _747;
                        _842 = _743;
                      }
                      _843 = _839;
                      _844 = _840;
                      _845 = _841;
                      _846 = _842;
                    } else {
                      _843 = _725;
                      _844 = _709;
                      _845 = _690;
                      _846 = _686;
                    }
                    _847 = _843;
                    _848 = _844;
                    _849 = _845;
                    _850 = _846;
                  } else {
                    _847 = _668;
                    _848 = _652;
                    _849 = _633;
                    _850 = _629;
                  }
                  _851 = _847;
                  _852 = _848;
                  _853 = _849;
                  _854 = _850;
                } else {
                  _851 = _611;
                  _852 = _595;
                  _853 = _576;
                  _854 = _572;
                }
                _855 = _851;
                _856 = _852;
                _857 = _853;
                _858 = _854;
              } else {
                _855 = _554;
                _856 = _538;
                _857 = _519;
                _858 = _515;
              }
              _859 = _855;
              _860 = _856;
              _861 = _857;
              _862 = _858;
            } else {
              _859 = _497;
              _860 = _481;
              _861 = _462;
              _862 = _458;
            }
            _863 = _859;
            _864 = _860;
            _865 = _861;
            _866 = _862;
          } else {
            _863 = _440;
            _864 = _426;
            _865 = _409;
            _866 = _405;
          }
          _867 = _863;
          _868 = _864;
          _869 = _865;
          _870 = _866;
        } else {
          _867 = _387;
          _868 = _373;
          _869 = _356;
          _870 = _352;
        }
        _871 = _867;
        _872 = _868;
        _873 = _869;
        _874 = _870;
      } else {
        _871 = _334;
        _872 = _320;
        _873 = _303;
        _874 = _299;
      }
      _875 = _871;
      _876 = _872;
      _877 = _873;
      _878 = _874;
    } else {
      _875 = _281;
      _876 = _268;
      _877 = _252;
      _878 = _251;
    }
    float _887;
    if (_185) {
      _887 = _6.y - _876.y;
    } else {
      _887 = _6.x - _876.x;
    }
    float _892;
    if (_185) {
      _892 = _875.y - _6.y;
    } else {
      _892 = _875.x - _6.x;
    }
    float _906 = max(((_887 < _892) ? ((_878 < 0.0) != _250) : ((_877 < 0.0) != _250)) ? ((min(_887, _892) * ((-1.0) / (_892 + _887))) + 0.5) : 0.0, _249 * _249);
    vec2 _912;
    if (_185) {
      vec2 _911 = _113;
      _911.x = _6.x + (_906 * _205);
      _912 = _911;
    } else {
      _912 = _113;
    }
    vec2 _919;
    if (_182) {
      vec2 _918 = _912;
      _918.y = _912.y + (_906 * _205);
      _919 = _918;
    } else {
      _919 = _912;
    }
    _926 = vec4(textureLod(sampler2D(_21, _20), _919, 0.0).xyz, _118);
    break;
  } while (false);
  vec4 _939 = (vec4(_926.xyz, texture(sampler2D(_21, _20), _6.xy).w) * _19._m5) + _19._m4;
  _939.w = _939.w * _5.w;
  vec4 _956;
  if (floatBitsToInt(_19._m10) != 0) {
    vec4 _954 = textureLod(sampler3D(_22, _10), _939.xyz, 0.0);
    _956 = vec4(_954.x, _954.y, _954.z, _939.w);
  } else {
    _956 = _939;
  }
  vec4 _1006;
  if (floatBitsToInt(_19._m7) != 0) {
#if 1
    _956.rgb = GammaSafe(_956.rgb);
#endif

    vec3 _968 = _956.xyz * mat3(vec3(0.6274039745330810546875, 0.329281985759735107421875, 0.043313600122928619384765625), vec3(0.06909699738025665283203125, 0.919539988040924072265625, 0.0113612003624439239501953125), vec3(0.01639159955084323883056640625, 0.0880132019519805908203125, 0.895595014095306396484375));
    float _979 = pow(abs((_968.x * _17._m0) / _17._m15), 0.1593017578125);
    vec3 _986;
    _986.x = pow((0.8359375 + (18.8515625 * _979)) / (1.0 + (18.6875 * _979)), 78.84375);
    float _988 = pow(abs((_968.y * _17._m0) / _17._m15), 0.1593017578125);
    _986.y = pow((0.8359375 + (18.8515625 * _988)) / (1.0 + (18.6875 * _988)), 78.84375);
    float _997 = pow(abs((_968.z * _17._m0) / _17._m15), 0.1593017578125);
    _986.z = pow((0.8359375 + (18.8515625 * _997)) / (1.0 + (18.6875 * _997)), 78.84375);
    _1006 = vec4(_986.x, _986.y, _986.z, _956.w);
  } else {
    _1006 = _956;
  }
  vec3 _1014 = mix(_1006.xyz * _1006.www, _1006.xyz, bvec3(_19._m6 == 0.0));
  vec4 _1015 = vec4(_1014.x, _1014.y, _1014.z, _1006.w);
  float _1019 = _13._m0[0u]._m0.w * _1006.w;
  _1015.z = (_13._m0[0u]._m0.w != 1.0) ? (_1019 * _1019) : _1014.z;
  float _1028 = _1006.w * _13._m0[0u]._m0.x;
  _1015.w = _1028;
  vec4 _1058;
  if (floatBitsToInt(_19._m11) != 0) {
    vec4 _1044;
    if (floatBitsToInt(_19._m8) != 0) {
      vec4 _1043 = _1015;
      _1043.w = _1028 * _19._m8;
      _1044 = _1043;
    } else {
      _1044 = _1015;
    }
    vec4 _1057;
    if (floatBitsToInt(_19._m9) != 0) {
      vec4 _1056 = _1044;
      _1056.w = (-0.5) * (cos(_1044.w * 3.1415927410125732421875) - 1.0);
      _1057 = _1056;
    } else {
      _1057 = _1044;
    }
    _1058 = _1057;
  } else {
    _1058 = _1015;
  }
  vec4 _1061 = _1058;
  _1061.w = clamp(_1058.w, 0.0, 1.0);
  _8 = _1061;
}

